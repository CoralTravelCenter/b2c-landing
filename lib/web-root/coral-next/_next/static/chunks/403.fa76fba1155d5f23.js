"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[403],{403:function(e,n,t){t.r(n),t.d(n,{default:function(){return FooterSubscribe_FooterSubscribe}});var i=t(85893),r=t(65400),o=t.n(r),s=t(97538);let RightArrowIcon=()=>(0,i.jsx)("svg",{width:"15",height:"12",viewBox:"0 0 15 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsxs)("g",{id:"right arrow",children:[(0,i.jsx)("path",{id:"Vector 41",d:"M0.261917 6H12.9286",stroke:"white",strokeWidth:"1.5"}),(0,i.jsx)("path",{id:"Rectangle 23",d:"M8.92859 1.33301L13.5953 5.99967L8.92859 10.6663",stroke:"white",strokeWidth:"1.5",strokeLinejoin:"round"})]})});var a=t(76325),l=t(91544),d=t(77089),c=t(29395),u=t(22481),m=t(14632),p=t(22363),b=t(16318),g=t(5233),f=t(67294),h=t(37321);async function addSubscription(e){let n=(0,h.eI)(),t=(await n.post)("/Customer/AddSubscription",e);return(await t).data}var x=t(53628);let useFooterSubscribeLogic=e=>{let{showNewsletter:n}=e,{t}=(0,g.$G)(),[i]=s.default.useForm(),[r,o]=(0,f.useState)(!1),[a,l]=(0,f.useState)(!1),d=t("Customer.ForgotPasswordWelcomeText"),c=t("FooterWidget.SubscribeFormTitle"),u=t("FooterWidget.SubscribeFormDescription"),m=t("Customer.YourName"),p=t("FooterWidget.SubscribeFormSuccessMsg"),h=t("Feedback.EmailRequiredWarning"),onAddSubscription=async e=>{let{email:n}=e;try{o(!0);let e=i.getFieldsValue(),a=Object.keys(e).map(n=>({agreementTypeId:Number(n),checked:e[n]})).filter(e=>!Number.isNaN(e.agreementTypeId)),d=await addSubscription({email:n,agreementCheckList:a});if(d.result.isSuccess)l(!0);else{var r,s;b.default.error({message:t("Reservation.DocumentRecognitionError"),description:(null===(s=d.meta)||void 0===s?void 0:null===(r=s.messages[0])||void 0===r?void 0:r.message)||t("Reservation.DocumentRecognitionError")})}}catch(e){b.default.error({message:t("Reservation.DocumentRecognitionError"),description:(0,x.T)(e)})}finally{o(!1)}};return{localizedEmailPlaceHolder:d,localizedFormTitle:c,localizedFormDescription:u,localizedYourName:m,localizedSuccessMsg:p,localizedEmailRequiredWarning:h,onAddSubscription,loading:r,hasSuccess:a,form:i,isVisible:n}};var w=t(82729),v=t(94589),S=t(40789);function _templateObject(){let e=(0,w._)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n\n  iframe {\n    border: none;\n    min-height: 250px;\n  }\n\n  input:-internal-autofill-selected {\n    background-color: transparent !important;\n  }\n\n  input:-webkit-autofill,\n  input:-webkit-autofill:hover,\n  input:-webkit-autofill:focus,\n  input:-webkit-autofill:active {\n    -webkit-box-shadow: 0 0 0 30px white inset !important;\n  }\n\n  .form-main-label {\n    font-size: 16px;\n    font-weight: 600;\n    line-height: 24px;\n    color: ",";\n    display: block;\n    margin-bottom: 8px;\n\n    &.sub-label {\n      font-size: 14px;\n      font-weight: 400;\n    }\n  }\n\n  span.ant-input-affix-wrapper,\n  input.sub-name {\n    height: 50px;\n    box-sizing: border-box;\n    border-radius: 999px;\n    padding: 5px 5px 5px 11px;\n\n    &::placeholder,\n    input::placeholder {\n      color: ",";\n      font-size: 14px;\n      font-weight: 400;\n    }\n  }\n\n  span.email {\n    padding-left: 20px;\n  }\n\n  label.ant-checkbox-wrapper {\n    align-items: flex-start;\n    display: flex;\n    color: ",";\n    font-size: 10px;\n    font-weight: 400;\n  }\n\n  .agreement-checkboxes,\n  .sub-email-field {\n    margin-bottom: 10px;\n\n    .ant-form-item {\n      margin-bottom: 0px;\n    }\n  }\n"]);return _templateObject=function(){return e},e}let j=(0,v.ZP)(S.Z).withConfig({componentId:"sc-eda02948-0"})(_templateObject(),e=>e.theme.antd.colorTextSecondary,e=>e.theme.antd.colorTextSecondary,e=>e.theme.antd.colorText);var FooterSubscribe_FooterSubscribe=e=>{var n;let{localizedEmailPlaceHolder:t,localizedFormTitle:r,localizedEmailRequiredWarning:b,localizedFormDescription:g,localizedSuccessMsg:f,onAddSubscription:h,loading:x,form:w,hasSuccess:v,isVisible:S}=useFooterSubscribeLogic(e);if(!S)return(0,i.jsx)(a.H,{});let k=(null===(n=m.getEnvConfig.NEXT_PUBLIC_SALES_MANAGO_IFRAME_URL)||void 0===n?void 0:n.trim())||"";return(0,i.jsx)(j,{"data-testid":e.id,children:(0,p.rt)(k)?(0,i.jsx)("iframe",{src:k,id:"salesmanagoIframeId",sandbox:"allow-same-origin allow-scripts allow-popups allow-forms"}):(0,i.jsx)(()=>{var n;return v?(0,i.jsx)(c.Z,{className:"success-msg",children:f}):(0,i.jsxs)(s.default,{form:w,onFinish:h,children:[(0,i.jsxs)(c.Z,{className:"form-main-label",children:[r,":"]}),(0,i.jsx)(c.Z,{className:"form-main-label sub-label",children:g}),(0,i.jsx)(s.default.Item,{className:"sub-email-field",name:"email",rules:[{type:"email",message:b},{required:!0,message:b}],children:(0,i.jsx)(d.Z,{placeHolder:t,disabled:x,className:"email",suffixElement:(0,i.jsx)(o(),{id:"footer-subscribe-input-btn-id","aria-label":"footer-subscribe-input-btn",type:"primary",htmlType:"submit",shape:"circle",icon:(0,i.jsx)(RightArrowIcon,{}),loading:x})})}),(0,i.jsx)(l.Z,{agreementForm:w,agreements:e.agreements,notShowAgreements:[],allSelectType:(null===(n=e.agreements)||void 0===n?void 0:n.length)>1?void 0:u.v.newsletter,className:"agreement-checkboxes"},"newsletter")]})},{})})}},53628:function(e,n,t){t.d(n,{T:function(){return getErrorFromApi}});let getErrorFromApi=e=>{var n,t,i,r;return(null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(i=r.data)||void 0===i?void 0:null===(t=i.meta)||void 0===t?void 0:null===(n=t.messages)||void 0===n?void 0:n.length)?e.response.data.meta.messages[0].message:e.message}}}]);