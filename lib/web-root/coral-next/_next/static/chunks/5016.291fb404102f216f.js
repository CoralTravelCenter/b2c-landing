"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5016],{75016:function(e,t,r){r.r(t),r.d(t,{default:function(){return _}});var n=r(85893),a=r(4863),i=r(97538),l=r(89552),o=r(67294),s=r(76325),u=r(76346),m=r(12223),c=r(89619),d=r(19244),h=r(40789),f=r(16588),p=r(29395),g=r(79533),v=r(1541),b=r(5233),R=r(37321);async function ReservationCheck(e){let t=(0,R.eI)(),r=await t.post("/Reservation/ReservationCheck",e);return r.data}var y=r(40909),x=r(13197),N=r(77549),k=r(16476),C=r(53030),D=r(40119),F=r(22363),j=r(62981),HeaderReservationCheckModal_logic=e=>{let{nextSteps:t,showReservationCheck:r,refObject:n}=e,{token:a}=v.default.useToken(),{t:l}=(0,b.$G)(),{navigate:s}=(0,C.Z)(),[u]=i.default.useForm(),{isMobile:m}=(0,D.Z)(),[c,d]=(0,o.useState)([]),[h,f]=(0,o.useState)(!1),p=(0,N.C)(k.Co),[g,R]=(0,o.useState)([]),S=l("Reservation.ReservationCheck.ReservationCheck"),w=l("Reservation.ReservationCheck.ReservationCheckInformation"),L="".concat(l("Reservation.ReservationCheck.DocumentInformationText"),"."),P="".concat(l("Customer.RegisterOrLogin"),", "),_=l("Common.Check"),[Z,A]=(0,o.useState)(!1),[M,I]=(0,o.useState)(!1),serializeForApi=e=>Object.entries(e).map(e=>{let[t,r]=e;return{type:Number(t),value:r}}),checkReservation=async e=>{let r={reservationCheckFields:serializeForApi(e)};A(!0);try{let e=await ReservationCheck(r);if((0,F.Wy)(e.meta.messages))d(e.meta.messages),f(!0);else{let r=t?(0,j.n)(t,e.result.isOwner?x.D.Account:x.D.ReservationCheck):null,n=r?"".concat(null==r?void 0:r.url,"?ern=").concat(e.result.encyrptReservationNumber):"/";await s(n,!0)}}catch(e){var n,a,i;d(null==e?void 0:null===(i=e.response)||void 0===i?void 0:null===(a=i.data)||void 0===a?void 0:null===(n=a.meta)||void 0===n?void 0:n.messages),f(!0)}A(!1)},getReservationCheckData=async()=>{I(!0);try{var e;let t=await y.Z.BeginReservationCheck();(null==t?void 0:null===(e=t.result)||void 0===e?void 0:e.fields)&&R(t.result.fields),I(!1)}catch(e){I(!1)}};return(0,o.useEffect)(()=>{if(r){var e;getReservationCheckData(),null==n||null===(e=n.current)||void 0===e||e.setShowModalStatus(!0)}},[r]),{localizedTitle:S,localizedSubTitle:w,localizedLoginRegisterText:L,localizedLoginOrRegister:P,localizedCheck:_,columnSpan:m?24:8,checkReservation,token:a,isLoading:Z,errorMessages:c,navigate:s,showError:h,userInfo:p,dynamicFields:g,form:u,isFieldsLoading:M,isMobile:m}},S=r(82729),w=r(94589),L=r(99995);function _templateObject(){let e=(0,S._)(["\n  h2 {\n    margin: 0 0 ","px;\n    line-height: 38px;\n  }\n  h4 {\n    margin: 0 0 ","px;\n    line-height: 28px;\n  }\n  .ant-alert {\n    margin: 0 0 ","px;\n  }\n  .ant-input-number-affix-wrapper,\n  .ant-input-number {\n    width: 100%;\n  }\n  .alert-text {\n    text-align: center;\n    display: block;\n    font-size: ","px;\n    line-height: 24px;\n    .target-url {\n      color: ",";\n      text-align: center;\n      cursor: pointer;\n      font-weight: ",";\n    }\n  }\n\n  .ant-input-number-suffix {\n    pointer-events: auto;\n  }\n  .spin-container {\n    min-height: 100px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  .info-tooltip {\n    height: 20px;\n    .anticon {\n      transform: scale(0.7);\n    }\n  }\n"]);return _templateObject=function(){return e},e}let P=(0,w.ZP)(L.default).withConfig({componentId:"sc-fc9b6637-0"})(_templateObject(),e=>e.theme.antd.paddingContentVerticalLG,e=>e.theme.antd.paddingContentVerticalLG,e=>e.theme.antd.paddingContentVerticalLG,e=>e.theme.antd.fontSizeLG,e=>e.theme.antd.colorPrimary,e=>e.theme.antd.fontWeightStrong),HeaderReservationCheckModal_HeaderReservationCheckModal=e=>{let{refObject:t,onCancel:r,reservationCheckModalInformationStatus:o,nextSteps:v,showReservationCheck:b}=e;if((0,g.Z)("HeaderReservationCheckModal"),!b)return(0,n.jsx)(s.H,{});let{localizedTitle:R,localizedSubTitle:y,localizedLoginRegisterText:x,localizedLoginOrRegister:N,localizedCheck:k,columnSpan:C,checkReservation:D,token:F,isLoading:j,errorMessages:S,navigate:w,showError:L,userInfo:_,dynamicFields:Z,form:A,isFieldsLoading:M,isMobile:I}=HeaderReservationCheckModal_logic({refObject:t,onCancel:r,reservationCheckModalInformationStatus:o,nextSteps:v,showReservationCheck:b});return(0,n.jsxs)(P,{showXButton:!0,customHeader:null,refObject:t,customFooter:null,onCancel:r,width:848,destroyOnClose:!0,children:[(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.Z,{className:"reservation-modal-header",children:(0,n.jsx)(f.Z,{level:2,text:R})}),o&&(0,n.jsx)(h.Z,{children:(0,n.jsx)(f.Z,{level:4,text:y})}),L&&(0,n.jsx)(h.Z,{children:null==S?void 0:S.map((e,t)=>(0,n.jsx)(a.default,{type:"error",showIcon:!0,message:e.message},"HeaderReservationCheckModal-".concat(t)))}),M?(0,n.jsx)(h.Z,{className:"spin-container",children:(0,n.jsx)(l.default,{})}):(0,n.jsx)(i.default,{form:A,onFinish:D,layout:"vertical",children:(0,n.jsxs)(c.Z,{verticalSpacing:F.margin,children:[(0,n.jsx)(u.Z,{form:A,fields:Z,columnSpan:C,inputSize:"large"}),(0,n.jsx)(m.Z,{columnSpan:C,children:(0,n.jsx)(i.default.Item,{label:I?"":(0,n.jsx)(n.Fragment,{children:"\xa0"}),children:(0,n.jsx)(d.Z,{size:"large",name:"submit",type:"primary",htmlType:"submit",loading:j,className:"submit-button ".concat(j?"is-loading":""),children:k})})})]})})]}),!_.isLoggedIn&&(0,n.jsxs)(p.Z,{className:"alert-text",children:[(0,n.jsx)(p.Z,{onClick:()=>w("/login"),className:"target-url",children:N})," ",x]})]})};HeaderReservationCheckModal_HeaderReservationCheckModal.whyDidYouRender=!0;var _=HeaderReservationCheckModal_HeaderReservationCheckModal},55510:function(e,t,r){var n=r(85893);t.Z=()=>(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",children:[(0,n.jsx)("path",{fill:"#535353",fillRule:"evenodd",d:"M12 10.75a.75.75 0 0 1 .75.75v5a.75.75 0 0 1-1.5 0v-5a.75.75 0 0 1 .75-.75ZM12.512 6.941a.75.75 0 0 1 .056 1.06l-.01.01a.75.75 0 0 1-1.115-1.003l.01-.01a.75.75 0 0 1 1.059-.057Z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#535353",fillRule:"evenodd",d:"M12 2.75a9.25 9.25 0 1 0 0 18.5 9.25 9.25 0 0 0 0-18.5ZM1.25 12C1.25 6.063 6.063 1.25 12 1.25S22.75 6.063 22.75 12 17.937 22.75 12 22.75 1.25 17.937 1.25 12Z",clipRule:"evenodd"})]})},76346:function(e,t,r){r.d(t,{Z:function(){return k}});var n=r(85893);r(67294);var a=r(76325),i=r(97538),l=r(51024),o=r(94055),s=r(5233),u=r(55510),m=r(41470),c=r(12805),d=r(17480),h=r(71202),f=r(78309),p=r(15768),g=r(54826),DynamicFormItem_logic=(e,t)=>{let{t:r}=(0,s.$G)(),getCustomValidator=(t,n,a)=>g.Z[t]({form:e,value:n,params:a,t:r}),transformValidation=e=>{var t,n;let a=[];return e.isRequired&&a.push({required:e.isRequired,transform:e=>null==e?void 0:e.trim(),message:r("Common.ThisFieldIsRequired")}),(null==e?void 0:null===(t=e.customRules)||void 0===t?void 0:t.length)>0&&(null===(n=e.customRules)||void 0===n||n.forEach(e=>{a.push({validator:(t,n)=>{let a=getCustomValidator(p.c[e.ruleName],n,{...e.ruleParams,charsets:null,t:r});return!0===a?Promise.resolve():Promise.reject(Error(a))}})})),a},isCustomRuleNumeric=e=>null==e?void 0:e.some(e=>e.ruleName===p.c.documentNumber),handleDocumentNumberKeyDown=e=>{/^[0-9\b]+$/.test(e.key)||"Delete"===e.key||"Tab"===e.key||e.ctrlKey||"Backspace"===e.key||e.altKey||e.metaKey||e.preventDefault()},handleKeyDown=(e,t)=>{var r;isCustomRuleNumeric(null==e?void 0:null===(r=e.validation)||void 0===r?void 0:r.customRules)&&handleDocumentNumberKeyDown(t)};return{getFormItem:r=>{switch(r.type){case f.$.birthDate:case f.$.departureDate:return(0,n.jsx)(i.default.Item,{label:r.title,children:(0,n.jsx)(c.Z,{form:e,formItemName:[r.type],formItemProps:{rules:transformValidation(r.validation)},suffixIcon:(0,n.jsx)(m.j,{}),picker:"date",format:h.Lj})});default:return(0,n.jsx)(i.default.Item,{name:"".concat(r.type),label:r.title,rules:transformValidation(r.validation),children:(0,n.jsx)(l.default,{size:t,name:"".concat(r.type),placeholder:r.placeholder,onKeyDown:e=>handleKeyDown(r,e),suffix:r.tooltip?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(o.default,{title:r.tooltip,className:"info-tooltip",getPopupContainer:e=>e,children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(d.Z,{icon:u.Z})})})}):null})})}}}},v=r(82729),b=r(94589),R=r(12223);function _templateObject(){let e=(0,v._)(["\n      .ant-form-item {\n        margin-bottom: 0;\n      }\n    "]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,v._)(["\n  ","\n"]);return _templateObject1=function(){return e},e}let y=(0,b.ZP)(R.Z).withConfig({componentId:"sc-3da13150-0"})(_templateObject1(),e=>e.theme.screen.isDesktop&&(0,b.iv)(_templateObject()));var x=r(79533),N=r(22363);let DynamicFormItem=e=>{let{fields:t,columnSpan:r,form:i,inputSize:l}=e;if((0,N.S0)(t))return(0,n.jsx)(a.H,{});let{getFormItem:o}=DynamicFormItem_logic(i,l);return(0,x.Z)("DynamicFormItem"),(0,n.jsx)(n.Fragment,{children:t.map((e,t)=>(0,n.jsx)(y,{columnSpan:r||24,children:o(e)},"DynamicFormItem-".concat(t)))})};DynamicFormItem.whyDidYouRender=!0;var k=DynamicFormItem},16588:function(e,t,r){var n=r(85893),a=r(53740);r(67294);var i=r(79533);let{Title:l}=a.default,Heading=e=>{let{text:t,type:r,level:a,dataTestid:o,className:s,id:u,key:m,refObject:c,onClick:d,style:h}=e;return(0,i.Z)("Heading"),(0,n.jsx)(l,{type:r,id:u,className:s,ref:c,"data-testid":o,level:a,onClick:d,style:h,children:t},m)};Heading.whyDidYouRender=!0,t.Z=Heading},78309:function(e,t,r){var n,a;r.d(t,{$:function(){return n}}),(a=n||(n={}))[a.gender=0]="gender",a[a.name=1]="name",a[a.surname=2]="surname",a[a.birthDate=3]="birthDate",a[a.nationality=4]="nationality",a[a.patronymic=5]="patronymic",a[a.phoneNumber=6]="phoneNumber",a[a.passportSerie=7]="passportSerie",a[a.passportNumber=8]="passportNumber",a[a.passportGivenDate=9]="passportGivenDate",a[a.passportValidThru=10]="passportValidThru",a[a.email=11]="email",a[a.passportAuth=12]="passportAuth",a[a.addLater=13]="addLater",a[a.documentTypeField=14]="documentTypeField",a[a.divisionNumber=15]="divisionNumber",a[a.homePhoneNumber=16]="homePhoneNumber",a[a.address=17]="address",a[a.phoneNumberPrefix=18]="phoneNumberPrefix",a[a.homePhoneNumberPrefix=19]="homePhoneNumberPrefix",a[a.country=20]="country",a[a.town=21]="town",a[a.zipCode=22]="zipCode",a[a.street=23]="street",a[a.houseNumber=24]="houseNumber",a[a.apartmentNumber=25]="apartmentNumber",a[a.loyaltyCheck=26]="loyaltyCheck",a[a.loyalty=27]="loyalty",a[a.loyaltyNumber=28]="loyaltyNumber",a[a.preferredPhoneNumber=29]="preferredPhoneNumber",a[a.reasonForFailureEmail=30]="reasonForFailureEmail",a[a.notFamily=31]="notFamily",a[a.fullName=32]="fullName",a[a.prefferedFamilyEmail=33]="prefferedFamilyEmail",a[a.room=34]="room",a[a.administratorName=35]="administratorName",a[a.city=36]="city",a[a.district=37]="district",a[a.companyName=38]="companyName",a[a.taxNumber=39]="taxNumber",a[a.iban=40]="iban",a[a.bankName=41]="bankName",a[a.registerationCode=42]="registerationCode",a[a.reservationNumber=43]="reservationNumber",a[a.customerAsTourist=44]="customerAsTourist",a[a.saveAsPerson=45]="saveAsPerson",a[a.kkpNumber=46]="kkpNumber",a[a.identityNumber=47]="identityNumber",a[a.taxOffice=48]="taxOffice",a[a.specialDemand=49]="specialDemand",a[a.otherNationality=50]="otherNationality",a[a.milesAndSmiles=51]="milesAndSmiles",a[a.passportNumberWithSerie=52]="passportNumberWithSerie",a[a.departureDate=53]="departureDate"},15768:function(e,t,r){var n,a;r.d(t,{c:function(){return n}}),(a=n||(n={}))[a.charset=0]="charset",a[a.nameFirstLetter=1]="nameFirstLetter",a[a.nameSurnameLengthCheck=2]="nameSurnameLengthCheck",a[a.gdsMaxLengthForName=3]="gdsMaxLengthForName",a[a.birthCertificateAgeRule=4]="birthCertificateAgeRule",a[a.minimumYearLimit=5]="minimumYearLimit",a[a.checkDateLimits=6]="checkDateLimits",a[a.legalAgeRule=7]="legalAgeRule",a[a.checkPhone=8]="checkPhone",a[a.requiredAgeLimit=9]="requiredAgeLimit",a[a.birthCertificateSerial=10]="birthCertificateSerial",a[a.birthCertificateNumber=11]="birthCertificateNumber",a[a.passportDateComparision=12]="passportDateComparision",a[a.checkEmail=13]="checkEmail",a[a.onlyMenStop=14]="onlyMenStop",a[a.numeric=15]="numeric",a[a.gdsMaxLengthForSurname=16]="gdsMaxLengthForSurname",a[a.checkPhoneForFlight=17]="checkPhoneForFlight",a[a.documentNumber=18]="documentNumber",a[a.maskPattern=19]="maskPattern",a[a.identityNumber=20]="identityNumber"},94493:function(e,t,r){var n,a;r.d(t,{o:function(){return n}}),(a=n||(n={}))[a.adult=0]="adult",a[a.child=1]="child",a[a.child2Adult=2]="child2Adult",a[a.infant=4]="infant",a[a.infantSeatedCount=5]="infantSeatedCount"},54826:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(22363);let difference=(e,t)=>e.filter(e=>!t.includes(e));var a=r(82729);function _templateObject(){let e=(0,a._)(["",""]);return _templateObject=function(){return e},e}var i=r(27484),l=r.n(i);function charset_templateObject(){let e=(0,a._)(["^[","]+$"]);return charset_templateObject=function(){return e},e}let checkPhone_difference=(e,t)=>e.filter(e=>!t.includes(e));function documentNumber_templateObject(){let e=(0,a._)(["^[0-9]+$"]);return documentNumber_templateObject=function(){return e},e}var o=r(94493),s=r(79212),u=r.n(s),m=r(71202);function numeric_templateObject(){let e=(0,a._)(["^[0-9]+$"]);return numeric_templateObject=function(){return e},e}var c={charset:e=>{var t;let{fieldName:r,value:a,params:i,t:l}=e;if((0,n.QP)(i.charset)||(0,n.aH)(a))return!0;let o=a;"passportNumberWithSerie"===r&&(o=o.replace(" ",""));let s=null===(t=i.charsets[i.charset])||void 0===t?void 0:t.replace(/\\\\/g,"\\");if((0,n.aH)(o))return!0;let u=String.raw(charset_templateObject(),s);return!!new RegExp(u).test(o)||(l?l("Reservation.Rule.CharsetForDocument"):"Invalid chars")},minimumYearLimit:e=>{let{value:t,params:r,t:a}=e;return!!(0,n.oo)(t)||(l().extend(u()),!!(t&&l()(t).isSameOrAfter(l()(r.minDate,m.sF)))||(a?a("Reservation.Rule.MinimumYearLimit"):"Please enter the correct date"))},checkDateLimits:e=>{let{value:t,params:r,t:a}=e;if((0,n.oo)(t))return!0;let i=r.minDate?l()(r.minDate):void 0,o=r.maxDate?l()(r.maxDate):void 0;return!(""!==t&&(i&&l()(t).isBefore(i)||o&&l()(t).isAfter(o)))||(a?a("Reservation.Rule.CheckDateLimits"):"Please enter a valid date")},legalAgeRule:e=>{let{form:t,value:r,t:a}=e;if((0,n.oo)(r))return!0;let{tourists:i}=t.getFieldsValue();if((0,n.oo)(i))return!0;let s=i.some(e=>{let t=e.birthDate||e.touristInfo.birthDate;return e.touristType===o.o.adult&&t&&l()(t).isBefore(l()().add(-18,"years"))});return!!s||(a?a("Reservation.Rule.LegalAgeRule"):"Date is invalid (LegalAgeRule)")},requiredAgeLimit:e=>{let t,{form:r,field:a,value:i}=e,o=l()().add(-18,"years"),s=r.getFieldsValue();return t=void 0!==s.tourists?s.tourists[a.key]:s[a.key],!(l()(t).isBefore(o)&&(0,n.aH)(i))||"This field is required over 18 years old!"},checkEmail:e=>{let{value:t,t:r}=e;return!!((0,n.aH)(t)||/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t))||(r?r("Reservation.Rule.CheckEmail"):"Please enter a valid email address.")},onlyMenStop:e=>{let{form:t,value:r,t:a}=e;if((0,n.aH)(r))return!0;let i=t.getFieldsValue(),l=i.tourists||i,o=l.some(e=>1===Number(e.gender));return!!o||(a?a("Reservation.Rule.GenderRule"):"The hotel does not allow men to stay alone in the room")},checkPhone:e=>{let{value:t,t:r}=e;if((0,n.aH)(t))return!0;let a=/\d/g.test(t);if(t.includes("X"))return r?r("Reservation.Rule.PhoneErrorMessage"):"";let i=t.trim().replace(/\D/g,"");if(a&&i&&i[1]){let e=i[1].split(""),t=checkPhone_difference(e,[e[2]]);if(0===t.length||"1234567"===i[1])return r?r("Reservation.Rule.PhoneErrorMessage"):""}return!0},checkPhoneForFlight:e=>{let{value:t,t:r}=e;if((0,n.aH)(t))return!0;let a=/\d/g.test(t);if(t.includes("X"))return r?r("Reservation.Rule.PhoneErrorMessage"):"";let i=t.trim().replace(/\D/g,"");if(a&&i){let e=i[1].split(""),t=difference(e,[e[2]]);if(0===t.length||"1234567"===i[1])return r?r("Reservation.Rule.PhoneErrorMessage"):""}return!0},passportDateComparision:e=>{let{form:t,field:r,value:a,t:i}=e;if((0,n.oo)(a))return!0;let o=t.getFieldsValue(),s=o.tourists||o,{passportGivenDate:u,passportValidThru:m}=s[r.key];return!(u&&m&&l()(u).isAfter(l()(m)))||(i?i("Reservation.Rule.PassportDateComparision"):"Date is invalid (PassportDateComparision)")},gdsMaxLengthForName:e=>{let{form:t,field:r,params:n,t:a}=e,{tourists:i}=t.getFieldsValue(),{name:l,patronymic:o}=i[r.key],s=0,u=0;return l&&l.length>0&&(s=l.trim().length),o&&o.length>0&&(u=o.trim().length),null==n||!n.maxLength||!(s+u>n.maxLength)||(a?a("Reservation.Rule.GdsMaxLengthForName"):"The total number of characters in the First Name and Middle Name fields must not exceed 29.")},numeric:e=>{let{value:t,t:r}=e;if((0,n.aH)(t))return!0;let a=String.raw(numeric_templateObject());return!!new RegExp(a).test(t)||(r?r("Reservation.Rule.CharsetForDocument"):"Invalid chars (numeric)")},nameSurnameLengthCheck:e=>{let{form:t,field:r,params:n,t:a}=e,{tourists:i}=t.getFieldsValue(),{name:l,surname:o,nationality:s}=i[r.key],u=0,m=0;return"3"!==s||(l&&l.length>0&&(u=l.trim().length),o&&o.length>0&&(m=o.trim().length),null==n||!n.maxLength||!(u+m>n.maxLength)||(a?a("Reservation.Rule.NameSurnameLengthCheck"):""))},nameFirstLetter:e=>{let{form:t,field:r,value:a,t:i}=e;if((0,n.aH)(a))return!0;let l=t.getFieldsValue(),o=l.tourists||l,{nationality:s}=o[r.key];if("3"!==s)return!0;let u=a.match(/^Ь/g);return null===u||!(u.length>=1)||(i?i("Reservation.FilledInTheDocumentWarning"):"")},gdsMaxLengthForSurname:e=>{let{form:t,field:r,params:n,t:a}=e,{tourists:i}=t.getFieldsValue(),{name:l,surname:o}=i[r.key],s=0,u=0;return l&&l.length>0&&(s=l.trim().length),o&&o.length>0&&(u=o.trim().length),null==n||!n.maxLength||!(s+u>n.maxLength)||(a?a("Reservation.Rule.GdsMaxLengthForSurname"):"The total number of characters in the Last Name field must not exceed 29.")},birthCertificateSerial:e=>{let{fieldName:t,form:r,field:n,value:a,t:i}=e,{tourists:l}=r.getFieldsValue(),{nationality:o}=l[n.key],s="passportNumberWithSerie"===t?a.split(" ")[0]:a;if("3"!==o)return!0;let u=s.match(/[A-Za-z]/g),m=s.match(/[АБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдеёжзийклмнопрстуфхцчшщъыьэюя]/g),c=s.match(/[^A-Za-zАБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдеёжзийклмнопрстуфхцчшщъыьэюя]/g);return null!==u&&null!==m&&null===c&&u.length>=1&&u.length<=4&&2===m.length||(i?i("Reservation.Rule.BirthCertificateSerial"):"The birth certificate series is incorrect!")},birthCertificateNumber:e=>{let{form:t,field:r,fieldName:n,value:a,t:i,params:l}=e,{tourists:o}=t.getFieldsValue(),{nationality:s}=o[r.key];if(!a||"3"!==s)return!0;let u=!a.includes(" "),m="passportNumberWithSerie"!==n||u?a:a.split(" ")[1];if(l&&l.regex&&u){let e=new RegExp(l.regex).test(m);return!!e||(i?i("Reservation.Rule.BirthCertificateNumberRegex"):"Enter Latin letters (I, V, X), 2 Cyrillic letters and 6 numbers")}let c=m.match(/[0-9]/g);return null!==c&&6===c.length&&6===m.length||(i?i("Reservation.Rule.BirthCertificateNumber"):"The birth certificate number is incorrect!")},birthCertificateAgeRule:e=>{let{form:t,field:r,value:n,t:a,params:i}=e,{tourists:o}=t.getFieldsValue(),{documentTypeField:s}=o[r.key];return!!(i.minDate&&""!==n&&10===s&&l()(n,"DD.MM.YYYY").isAfter(i.minDate))||(a?a("Reservation.Rule.BirthCertificateAgeRule"):"The birth certificate number is incorrect!")},documentNumber:e=>{let{value:t,t:r}=e;if((0,n.aH)(t))return!0;let a=String.raw(documentNumber_templateObject());return!!new RegExp(a).test(t)||(r?r("Reservation.ReservationCheck.DocumentNumberInformation"):"Invalid chars (numeric)")},maskPattern:e=>{let{fieldName:t,value:r,params:a,t:i}=e;if((0,n.aH)(r)||r.endsWith("X"))return!0;if("passportNumberWithSerie"===t){var l,o;let e=null===(l=a.mask)||void 0===l?void 0:l.match(/\[X+\]/g);if(!e||(null==e?void 0:e.length)<=0){let e=null===(o=a.mask)||void 0===o?void 0:o.split(" "),t=null==r?void 0:r.split(" "),n=!0;if(null==e||e.forEach((e,r)=>{var a;e.length!==(null===(a=t[r])||void 0===a?void 0:a.length)&&(n=!1)}),!n)return i?i("Reservation.Rule.CharsetForDocument"):"Invalid Parameter"}else if(a.regex){let e=String.raw(_templateObject(),a.regex);if(new RegExp(e).test(r))return!0}}let s=a.mask.split(""),u="^",m="^",c=0;return s.forEach(e=>{new RegExp(/[0123456789X]/).test(e)?c+=1:(c>0&&(u+="\\d{".concat(c,"}"),m+="\\d{".concat(c,"}"),c=0),u+=" "===e?"\\s":"\\".concat(e))}),c>0&&(u+="\\d{".concat(c,"}"),m+="\\d{".concat(c,"}")),u+="$",m+="$",!!(new RegExp(u).test(r)||new RegExp(m).test(r))||(i?i("Reservation.Rule.CharsetForDocument"):"Invalid Parameter")},identityNumber:e=>{let{value:t}=e;if(!t||""===t)return!0;let r=String(t),n="Yanlış T.C. Kimlik Numarası formatı";if(!/^\d+$/.test(r)||"0"===r[0])return n;let a=r.split("").map(Number),i=((a[0]+a[2]+a[4]+a[6]+a[8])*7-(a[1]+a[3]+a[5]+a[7]))%10,l=a.slice(0,10).reduce((e,t)=>e+t,0)%10;return i===a[9]&&l===a[10]||n}}}}]);